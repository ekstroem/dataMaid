<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Produce a data cleaning overview document (deprecated version) — clean • dataMaid</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">dataMaid</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/extending_dataMaid.html">Extending dataMaid</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ekstroem/dataMaid">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Produce a data cleaning overview document (deprecated version)</h1>
    </div>

    
    <p>NOTE: This function has been replaced by <code><a href='makeDataReport.html'>makeDataReport</a></code>. The current 
function is no longer updated and it is only included for backwards compatability.</p>
    

    <pre class="usage"><span class='fu'>clean</span>(<span class='no'>data</span>, <span class='kw'>output</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"pdf"</span>, <span class='st'>"html"</span>), <span class='kw'>render</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>useVar</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>ordering</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"asIs"</span>, <span class='st'>"alphabetical"</span>), <span class='kw'>onlyProblematic</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>labelled_as</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"factor"</span>), <span class='kw'>mode</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"summarize"</span>, <span class='st'>"visualize"</span>, <span class='st'>"check"</span>),
  <span class='kw'>smartNum</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>preChecks</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"isKey"</span>, <span class='st'>"isSingular"</span>, <span class='st'>"isSupported"</span>),
  <span class='kw'>file</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>replace</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>vol</span> <span class='kw'>=</span> <span class='st'>""</span>, <span class='kw'>standAlone</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>twoCol</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>quiet</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>openResult</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>characterChecks</span> <span class='kw'>=</span> <span class='fu'><a href='defaultCharacterChecks.html'>defaultCharacterChecks</a></span>(),
  <span class='kw'>factorChecks</span> <span class='kw'>=</span> <span class='fu'><a href='defaultFactorChecks.html'>defaultFactorChecks</a></span>(),
  <span class='kw'>labelledChecks</span> <span class='kw'>=</span> <span class='fu'><a href='defaultLabelledChecks.html'>defaultLabelledChecks</a></span>(),
  <span class='kw'>numericChecks</span> <span class='kw'>=</span> <span class='fu'><a href='defaultNumericChecks.html'>defaultNumericChecks</a></span>(),
  <span class='kw'>integerChecks</span> <span class='kw'>=</span> <span class='fu'><a href='defaultIntegerChecks.html'>defaultIntegerChecks</a></span>(),
  <span class='kw'>logicalChecks</span> <span class='kw'>=</span> <span class='fu'><a href='defaultLogicalChecks.html'>defaultLogicalChecks</a></span>(), <span class='kw'>dateChecks</span> <span class='kw'>=</span> <span class='fu'><a href='defaultDateChecks.html'>defaultDateChecks</a></span>(),
  <span class='kw'>allChecks</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>characterSummaries</span> <span class='kw'>=</span> <span class='fu'><a href='defaultCharacterSummaries.html'>defaultCharacterSummaries</a></span>(),
  <span class='kw'>factorSummaries</span> <span class='kw'>=</span> <span class='fu'><a href='defaultFactorSummaries.html'>defaultFactorSummaries</a></span>(),
  <span class='kw'>labelledSummaries</span> <span class='kw'>=</span> <span class='fu'><a href='defaultLabelledSummaries.html'>defaultLabelledSummaries</a></span>(),
  <span class='kw'>numericSummaries</span> <span class='kw'>=</span> <span class='fu'><a href='defaultNumericSummaries.html'>defaultNumericSummaries</a></span>(),
  <span class='kw'>integerSummaries</span> <span class='kw'>=</span> <span class='fu'><a href='defaultIntegerSummaries.html'>defaultIntegerSummaries</a></span>(),
  <span class='kw'>logicalSummaries</span> <span class='kw'>=</span> <span class='fu'><a href='defaultLogicalSummaries.html'>defaultLogicalSummaries</a></span>(),
  <span class='kw'>dateSummaries</span> <span class='kw'>=</span> <span class='fu'><a href='defaultDateSummaries.html'>defaultDateSummaries</a></span>(), <span class='kw'>allSummaries</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>allVisuals</span> <span class='kw'>=</span> <span class='st'>"standardVisual"</span>, <span class='kw'>listChecks</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>maxProbVals</span> <span class='kw'>=</span> <span class='fl'>10</span>,
  <span class='kw'>maxDecimals</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>addSummaryTable</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>reportTitle</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>treatXasY</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>The dataset to be checked. This dataset should be of class <code>data.frame</code>,
<code>tibble</code> or <code>matrix</code>. If it is of classs <code>matrix</code>, it will be converted to a
<code>data.frame</code>.</p></td>
    </tr>
    <tr>
      <th>output</th>
      <td><p>Output format. Options are <code>"pdf"</code> (the default), and <code>"html"</code></p></td>
    </tr>
    <tr>
      <th>render</th>
      <td><p>Should the output file be rendered (defaults to <code>TRUE</code>),
i.e. should a pdf/html document be generated and saved to the disc?</p></td>
    </tr>
    <tr>
      <th>useVar</th>
      <td><p>Variables to clean. If <code>NULL</code> (the default), all variables in <code>data</code>
are included. If a vector of variable names is supplied, only the variables in <code>data</code> that are
also in <code>useVar</code> are included in the data cleaning overview document.</p></td>
    </tr>
    <tr>
      <th>ordering</th>
      <td><p>Choose the ordering of the variables in the variable presentation. The options
are "asIs" (ordering as in the dataset) and "alphabetical" (alphabetical order).</p></td>
    </tr>
    <tr>
      <th>onlyProblematic</th>
      <td><p>A logical. If <code>TRUE</code>, only the variables flagged as
problematic in the check step will be included in the variable list.</p></td>
    </tr>
    <tr>
      <th>labelled_as</th>
      <td><p>A string explaining the way to handle labelled vectors.
Currently <code>"factor"</code> (the default) is the only possibility. This means that labelled
variables that appear factor-like (by having a non-<code>NULL</code> <code>labels</code>-attribute) will
be treated as factors, while other labelled variables will be treated as whatever base
variable class they inherit from.</p></td>
    </tr>
    <tr>
      <th>mode</th>
      <td><p>Vector of tasks to perform among the three categories "summarize", "visualize" and "check".
The default, <code>c("summarize", "visualize", "check")</code>, implies that all three steps are
performed. The steps selected in <code>mode</code> will be performed for each variable in
<code>data</code> and their results are presented in the second part of the outputtet data cleaning
overview document. The "summarize" step is responsible for creating the summary table,
the "visualize" step is responsible for creating the plot and the "check" step is responsible
for performing checks on the variable and printing the results if any problems are found.</p></td>
    </tr>
    <tr>
      <th>smartNum</th>
      <td><p>If <code>TRUE</code> (the default), numeric and integer variables with
less than 5 unique values are treated as factor variables in the checking,
visualization and summary steps, and a message notifying the reader of this is
printed in the data summary.</p></td>
    </tr>
    <tr>
      <th>preChecks</th>
      <td><p>Vector of function names for check functions used in the pre-check stage.
The pre-check stage consists of variable checks that should be performed before the
summary/visualization/checking step. If any of these checks find problems, the variable
will not be summarized nor visualized nor checked.</p></td>
    </tr>
    <tr>
      <th>file</th>
      <td><p>The filename of the outputted rmarkdown (.Rmd) file.
If set to <code>NULL</code> (the default), the filename will be the name of <code>data</code>
prefixed with "dataMaid_", if this qualifies as a valid file name (e.g. no special
characters allowed). Otherwise, <code>clean()</code> tries to create a valid filename by
substituing illegal characters. Note that a valid file is of type .Rmd, hence all
filenames should have a ".Rmd"-suffix.</p></td>
    </tr>
    <tr>
      <th>replace</th>
      <td><p>If <code>FALSE</code> (the default), an error is thrown if one of the files
that we are about to be created (.Rmd overview file and possible also a .html or .pdf
file) already exist. If <code>TRUE</code>, no checks are performed and files on disc thus
might be overwritten.</p></td>
    </tr>
    <tr>
      <th>vol</th>
      <td><p>Extra text string or numeric that is appended on the end of the output
file name(s). For example, if the dataset is called "myData", no file argument is
 supplied and <code>vol=2</code>, the output file will be called "dataMaid_myData2.Rmd"</p></td>
    </tr>
    <tr>
      <th>standAlone</th>
      <td><p>A logical. If <code>TRUE</code>, the document begins with a
markdown YAML preamble such that it can be rendered as a stand alone rmarkdown
file, e.g. by calling <code><a href='render.html'>render</a></code>. If <code>FALSE</code>, this preamble is removed.
Moreover, no matter the input to the <code>render</code> argument, the document will now
not be rendered, as it has no preamble.</p></td>
    </tr>
    <tr>
      <th>twoCol</th>
      <td><p>A logical. Should the results from the <em>summarize</em> and <em>visualize</em>
steps be presented in two columns? Defaults to <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>quiet</th>
      <td><p>A logical. If <code>TRUE</code> (the default), only a few messages
are printed to the screen as <code>clean</code> runs. If <code>FALSE</code>, no messages are
suppressed. The third option, <code>silent</code>, renders the function completely
silent, such that only fatal errors are printed.</p></td>
    </tr>
    <tr>
      <th>openResult</th>
      <td><p>A logical. If <code>TRUE</code> (the default), the last file produced
by <code>clean</code> is automatically opened by the end of the function run. This
means that if <code>render = TRUE</code>, the rendered pdf or html file is opened, while
if <code>render = FALSE</code>, the .Rmd file is opened.</p></td>
    </tr>
    <tr>
      <th>characterChecks</th>
      <td><p>A vector of the names of error-checking functions to apply to
character vectors.</p></td>
    </tr>
    <tr>
      <th>factorChecks</th>
      <td><p>A vector of the names of error-checking functions to apply to
integer vectors.</p></td>
    </tr>
    <tr>
      <th>labelledChecks</th>
      <td><p>A vector of the names of error-checking functions to apply to
character vectors.</p></td>
    </tr>
    <tr>
      <th>numericChecks</th>
      <td><p>A vector of the names of error-checking functions to apply to
numeric vectors.</p></td>
    </tr>
    <tr>
      <th>integerChecks</th>
      <td><p>A vector of the names of error-checking functions to apply to
integer vectors.</p></td>
    </tr>
    <tr>
      <th>logicalChecks</th>
      <td><p>A vector of the names of error-checking functions to apply to
logical vectors.</p></td>
    </tr>
    <tr>
      <th>dateChecks</th>
      <td><p>A vector of the names of error-checking functions to apply to
Date vectors.</p></td>
    </tr>
    <tr>
      <th>allChecks</th>
      <td><p>Vector of function names that should be used as check-functions
for all variable types. Note that this argument overwrites the arguments
<code>characterChekcs</code>, <code>factorChecks</code>, etc.</p></td>
    </tr>
    <tr>
      <th>characterSummaries</th>
      <td><p>A vector of the names of summary functions to apply to
character vectors.</p></td>
    </tr>
    <tr>
      <th>factorSummaries</th>
      <td><p>A vector of the names of summary functions to apply to
factor vectors.</p></td>
    </tr>
    <tr>
      <th>labelledSummaries</th>
      <td><p>A vector of the names of summary functions to apply to
labelled vectors.</p></td>
    </tr>
    <tr>
      <th>numericSummaries</th>
      <td><p>A vector of the names of summary functions to apply to
numeric vectors.</p></td>
    </tr>
    <tr>
      <th>integerSummaries</th>
      <td><p>A vector of the names of summary functions to apply to
integer vectors.</p></td>
    </tr>
    <tr>
      <th>logicalSummaries</th>
      <td><p>A vector of the names of summary functions to apply to
logical vectors.</p></td>
    </tr>
    <tr>
      <th>dateSummaries</th>
      <td><p>A vector of the names of summary functions to apply to
Date vectors.</p></td>
    </tr>
    <tr>
      <th>allSummaries</th>
      <td><p>Vector of function names that should be used as summary
functions for all variable types. Note that this argument overwrites the arguments
<code>characterSummaries</code>, <code>factorSummaries</code>, etc.</p></td>
    </tr>
    <tr>
      <th>allVisuals</th>
      <td><p>A single function name. This funtion name is called for
creating the plots for each variable in the "visualize" step. The default,
<code>"standardVisual"</code> thus calls the <code><a href='visualFunction.html'>visualFunction</a></code>
<code><a href='standardVisual.html'>standardVisual</a></code> for each variable in <code>data</code>.</p></td>
    </tr>
    <tr>
      <th>listChecks</th>
      <td><p>A logical. Controls whether what checks that were used for each
possible variable type are summarized in the output. Defaults to <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>maxProbVals</th>
      <td><p>A positive integer or <code>Inf</code>. Maximum number of unique
values printed from check-functions. In the case of <code>Inf</code>, all problematic 
values are printed. Defaults to <code>10</code>.</p></td>
    </tr>
    <tr>
      <th>maxDecimals</th>
      <td><p>A positive integer or <code>Inf</code>. Number of decimals used when
printing numerical values in the data summary and in problematic values from the
data checks. If <code>Inf</code>, no rounding is performed.</p></td>
    </tr>
    <tr>
      <th>addSummaryTable</th>
      <td><p>A logical. If <code>TRUE</code> (the default), a summary table
of the variable checks is added between the Data Cleaning Summary and the
Variable List.</p></td>
    </tr>
    <tr>
      <th>reportTitle</th>
      <td><p>A text string. If supplied, this will be the printed title of the
report. If left unspecified, the title with the name of the supplied dataset.</p></td>
    </tr>
    <tr>
      <th>treatXasY</th>
      <td><p>A list that indicates how non-standard variable classes should be treated.
This parameter allows you to include variables that are not of class <code>factor</code>, <code>character</code>, 
<code>labelled</code>, <code>numeric</code>, <code>integer</code>, <code>logical</code> nor <code>Date</code> (or a class
that inherits from any of these classes). The names of the list are the new classes and the entries
are the names of the class, they should be treated as. If <code>clean()</code> should e.g. treat variables of 
class <code>raw</code> as characters and variables of class <code>complex</code> as numeric, you should put
<code>treatXasY = list(raw = "character", complex = "numeric")</code>.</p></td>
    </tr>
    <tr>
      <th>&#8230;</th>
      <td><p>FIX ME-------- Other arguments that are passed on the to precheck,
checking, summary and visualization functions.WHAT ARGUMENTS ARE RELEVANT TO MENTION
 HERE?  ---------- FIX ME</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The function does not return anything. Its side effect (the production
of a data cleaning overview document) is the reason for running the function.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Run a set of class-specific validation checks to check the
variables in a dataset for potential errors.  Performs checking
steps according to user input and/or data type of the inputted
variable.  The checks are saved to an R markdown file which can
rendered into an easy-to-read document.  This document also
includes summaries and visualizations of each variable in the
dataset.</p>
<p>For each variable, a set of pre-check (controlled by the
<code>preChecks</code> argument) is first run and then then a battery of
functions are applied depending on the variable class.  For each
variable type the summarize/visualize/check functions are applied
and and the results are written to an R markdown file.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>data</span>(<span class='no'>testData</span>)
<span class='fu'>data</span>(<span class='no'>toyData</span>)

<span class='fu'><a href='check.html'>check</a></span>(<span class='no'>toyData</span>)</div><div class='output co'>#&gt; $pill
#&gt; $pill$identifyMissing
#&gt; No problems found.
#&gt; $pill$identifyWhitespace
#&gt; No problems found.
#&gt; $pill$identifyLoners
#&gt; Note that the following levels have at most five observations: blue.
#&gt; $pill$identifyCaseIssues
#&gt; No problems found.
#&gt; $pill$identifyNums
#&gt; No problems found.
#&gt; 
#&gt; $events
#&gt; $events$identifyMissing
#&gt; The following suspected missing value codes enter as regular values: 999, NaN.
#&gt; $events$identifyOutliers
#&gt; Note that the following possible outlier values were detected: 82, 999.
#&gt; 
#&gt; $region
#&gt; $region$identifyMissing
#&gt; The following suspected missing value codes enter as regular values:  , ..
#&gt; $region$identifyWhitespace
#&gt; The following values appear with prefixed or suffixed white space:  .
#&gt; $region$identifyLoners
#&gt; Note that the following levels have at most five observations:  , ., OTHER, a, b, c, other.
#&gt; $region$identifyCaseIssues
#&gt; Note that there might be case problems with the following levels: OTHER, other.
#&gt; $region$identifyNums
#&gt; No problems found.
#&gt; 
#&gt; $change
#&gt; $change$identifyMissing
#&gt; No problems found.
#&gt; $change$identifyOutliers
#&gt; Note that the following possible outlier values were detected: 1.12, 1.51, 1.6.
#&gt; 
#&gt; $id
#&gt; $id$identifyMissing
#&gt; No problems found.
#&gt; $id$identifyWhitespace
#&gt; No problems found.
#&gt; $id$identifyLoners
#&gt; Note that the following levels have at most five observations: 1, 10, 11, 12, 13, 14, 15, 2, 3, 4 (5 additional values omitted).
#&gt; $id$identifyCaseIssues
#&gt; No problems found.
#&gt; $id$identifyNums
#&gt; Note: The variable consists exclusively of numbers and takes a lot of different values. Is it perhaps a misclassified numeric variable?
#&gt; 
#&gt; $spotifysong
#&gt; $spotifysong$identifyMissing
#&gt; No problems found.
#&gt; $spotifysong$identifyWhitespace
#&gt; No problems found.
#&gt; $spotifysong$identifyLoners
#&gt; No problems found.
#&gt; $spotifysong$identifyCaseIssues
#&gt; No problems found.
#&gt; $spotifysong$identifyNums
#&gt; No problems found.
#&gt; </div><div class='input'>
 </div><span class='co'># NOT RUN {</span>
<span class='no'>DF</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>15</span>)
<span class='fu'>clean</span>(<span class='no'>DF</span>)
<span class='co'># }</span><div class='input'>
</div><span class='co'># NOT RUN {</span>
<span class='fu'>data</span>(<span class='no'>testData</span>)
<span class='fu'>clean</span>(<span class='no'>testData</span>)
<span class='co'># }</span><div class='input'>
# Overwrite any existing files generated by clean
</div><span class='co'># NOT RUN {</span>
<span class='fu'>clean</span>(<span class='no'>testData</span>, <span class='kw'>replace</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
<span class='co'># }</span><div class='input'>
# Only include problematic variables in the output document
</div><span class='co'># NOT RUN {</span>
<span class='fu'>clean</span>(<span class='no'>testData</span>, <span class='kw'>replace</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>onlyProblematic</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
<span class='co'># }</span><div class='input'>
# Add user defined check-function to the checks performed on character variables:
# Here we add functionality to search for the string wally (ignoring case)
</div><span class='co'># NOT RUN {</span>
<span class='no'>wheresWally</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>v</span>, <span class='no'>...</span>) {
     <span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'>grepl</span>(<span class='st'>"wally"</span>, <span class='no'>v</span>, <span class='kw'>ignore.case</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
     <span class='no'>problem</span> <span class='kw'>&lt;-</span> <span class='fu'>any</span>(<span class='no'>res</span>)
     <span class='no'>message</span> <span class='kw'>&lt;-</span> <span class='st'>"Wally was found in these data"</span>
     <span class='fu'><a href='checkResult.html'>checkResult</a></span>(<span class='fu'>list</span>(<span class='kw'>problem</span> <span class='kw'>=</span> <span class='no'>problem</span>,
                      <span class='kw'>message</span> <span class='kw'>=</span> <span class='no'>message</span>,
                      <span class='kw'>problemValues</span> <span class='kw'>=</span> <span class='no'>v</span>[<span class='no'>res</span>]))
}

<span class='no'>wheresWally</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='checkFunction.html'>checkFunction</a></span>(<span class='no'>wheresWally</span>,
                             <span class='kw'>description</span> <span class='kw'>=</span> <span class='st'>"Search for the string 'wally' ignoring case"</span>,
                             <span class='kw'>classes</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"character"</span>)
                             )
<span class='co'># Add the newly defined function to the list of checks used for characters.</span>
<span class='fu'>clean</span>(<span class='no'>testData</span>, <span class='kw'>characterChecks</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fu'><a href='defaultCharacterChecks.html'>defaultCharacterChecks</a></span>(), <span class='st'>"wheresWally"</span>),
      <span class='kw'>replace</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
<span class='co'># }</span><div class='input'>
#Handle non-supported variable classes using treatXasY: treat raw as character and
#treat complex as numeric. We also add a list variable, but as lists are not 
#handled through treatXasY, this variable will be caught in the preChecks and skipped:
</div><span class='co'># NOT RUN {</span>
<span class='no'>toyData</span>$<span class='no'>rawVar</span> <span class='kw'>&lt;-</span> <span class='fu'>as.raw</span>(<span class='fu'>c</span>(<span class='fl'>1</span>:<span class='fl'>14</span>, <span class='fl'>1</span>))
<span class='no'>toyData</span>$<span class='no'>compVar</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='fl'>1</span>:<span class='fl'>14</span>, <span class='fl'>1</span>) + <span class='fl'>2i</span>
<span class='no'>toyData</span>$<span class='no'>listVar</span> <span class='kw'>&lt;-</span> <span class='fu'>as.list</span>(<span class='fu'>c</span>(<span class='fl'>1</span>:<span class='fl'>14</span>, <span class='fl'>1</span>))
<span class='fu'>clean</span>(<span class='no'>toyData</span>, <span class='kw'>replace</span>  <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>treatXasY</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>raw</span> <span class='kw'>=</span> <span class='st'>"character"</span>, <span class='kw'>complex</span> <span class='kw'>=</span> <span class='st'>"numeric"</span>))
<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Anne Helby Petersen, Claus Thorn Ekstrøm.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
