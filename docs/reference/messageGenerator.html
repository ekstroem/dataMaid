<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Produce a message for the output of a checkFunction — messageGenerator • dataMaid</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Produce a message for the output of a checkFunction — messageGenerator" />

<meta property="og:description" content="Helper function for producing output messages for
checkFunction type functions." />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dataMaid</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/extending_dataMaid.html">Extending dataMaid</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Courses
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../CSP2018/index.html">CSP 2018</a>
    </li>
    <li>
      <a href="../eRum2018/index.html">eRum 2018</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ekstroem/dataMaid">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Produce a message for the output of a checkFunction</h1>
    <small class="dont-index">Source: <a href='https://github.com/ekstroem/dataMaid/blob/master/R/messageGenerator.R'><code>R/messageGenerator.R</code></a></small>
    <div class="hidden name"><code>messageGenerator.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Helper function for producing output messages for
<code><a href='checkFunction.html'>checkFunction</a></code> type functions.</p>
    
    </div>

    <pre class="usage"><span class='fu'>messageGenerator</span>(<span class='no'>problemStatus</span>,
  <span class='kw'>message</span> <span class='kw'>=</span> <span class='st'>"Note that a check function found the following problematic values:"</span>,
  <span class='kw'>nMax</span> <span class='kw'>=</span> <span class='fl'>10</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>problemStatus</th>
      <td><p>A list consisting of two entries:</p>
<p><code>$problem</code> - logical indicating whether a problem was found by the
<code>checkFunction</code> responsible for the making the <code>messageGenerator()</code> call,</p>
<p><code>$problemValues</code> - a vector of values from the variable that were
deemed problematic (see details below).</p></td>
    </tr>
    <tr>
      <th>message</th>
      <td><p>Optional, but recommended. A message describing what problem the
problem values are related to. If <code>NULL</code> a standard message is added using the name
of the function that called <code>messageGenerator</code>.</p></td>
    </tr>
    <tr>
      <th>nMax</th>
      <td><p>Maximum number of problem values to be printed in the message. If the total
number of problem values exceeds nMax, the number of omitted problem
values are added to the message. Defaults to <code>Inf</code>, in which case all problem
values are printed.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A character string with a problem description.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function is a tool for building <code><a href='checkFunction.html'>checkFunction</a></code>s for the
<code>dataMaid</code> <code><a href='makeDataReport.html'>makeDataReport</a></code> function. <code>checkFunction</code>s will often identify a number
of values in a variable that are somehow problematic. <code>messageGenerator</code> takes
these values, pastes them together with a problem description and makes sure that the
formatting is appropriate for being rendered in a <code>rmarkdown</code> document.
We recommend writing short and precise problem descriptions (see examples),
 but if no message is supplied, the following message is generated:
"Note that a check function found the following problematic values: [problem values]".</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='check.html'>check</a></code>, <code><a href='checkFunction.html'>checkFunction</a></code>, <code><a href='makeDataReport.html'>makeDataReport</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>#Varibales with/without underscores</span>
 <span class='no'>noUSVar</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='fl'>1</span>:<span class='fl'>10</span>)
 <span class='no'>USVar</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='st'>"_a"</span>, <span class='st'>"n_b"</span>, <span class='st'>"b_"</span>, <span class='st'>"_"</span>, <span class='fl'>1</span>:<span class='fl'>10</span>)

<span class='co'>#Define a checkFunction using messageGenerator with a manual</span>
<span class='co'>#problem description:</span>
<span class='no'>identifyUnderscores</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>v</span>, <span class='no'>nMax</span> <span class='kw'>=</span> <span class='fl'>Inf</span>) {
  <span class='no'>v</span> <span class='kw'>&lt;-</span> <span class='fu'>as.character</span>(<span class='no'>v</span>)
  <span class='no'>underscorePlaces</span> <span class='kw'>&lt;-</span> <span class='fu'>regexpr</span>(<span class='st'>"_"</span>, <span class='no'>v</span>) <span class='kw'>&gt;</span> <span class='fl'>0</span>
  <span class='no'>problemValues</span> <span class='kw'>&lt;-</span> <span class='fu'>unique</span>(<span class='no'>v</span>[<span class='no'>underscorePlaces</span>])
  <span class='no'>problem</span> <span class='kw'>&lt;-</span> <span class='fu'>any</span>(<span class='no'>underscorePlaces</span>)
  <span class='no'>message</span> <span class='kw'>&lt;-</span> <span class='fu'>messageGenerator</span>(<span class='fu'>list</span>(<span class='kw'>problemValues</span> <span class='kw'>=</span> <span class='no'>problemValues</span>, <span class='kw'>problem</span> <span class='kw'>=</span> <span class='no'>problem</span>),
                              <span class='st'>"The following values contain underscores:"</span>,
                              <span class='kw'>nMax</span> <span class='kw'>=</span> <span class='no'>nMax</span>)
  <span class='fu'><a href='checkResult.html'>checkResult</a></span>(<span class='fu'>list</span>(<span class='kw'>problem</span> <span class='kw'>=</span> <span class='no'>problem</span>, <span class='kw'>message</span> <span class='kw'>=</span> <span class='no'>message</span>,
      <span class='kw'>problemValues</span> <span class='kw'>=</span> <span class='no'>problemValues</span>))
 }

 <span class='fu'>identifyUnderscores</span>(<span class='no'>noUSVar</span>) <span class='co'>#no problem</span></div><div class='output co'>#&gt; No problems found.</div><div class='input'> <span class='fu'>identifyUnderscores</span>(<span class='no'>USVar</span>) <span class='co'>#problems</span></div><div class='output co'>#&gt; The following values contain underscores: _, _a, b_, n_b.</div><div class='input'>
<span class='co'>#Only print the first two problemvalues in the message:</span>
 <span class='fu'>identifyUnderscores</span>(<span class='no'>USVar</span>, <span class='kw'>nMax</span> <span class='kw'>=</span> <span class='fl'>2</span>)</div><div class='output co'>#&gt; The following values contain underscores: _, _a (2 additional values omitted).</div><div class='input'>
<span class='co'>#Define same function, but without a manual problem description in</span>
<span class='co'>#the messageGenerator-call:</span>
 <span class='no'>identifyUnderscores2</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>v</span>, <span class='no'>nMax</span> <span class='kw'>=</span> <span class='fl'>Inf</span>) {
  <span class='no'>v</span> <span class='kw'>&lt;-</span> <span class='fu'>as.character</span>(<span class='no'>v</span>)
  <span class='no'>underscorePlaces</span> <span class='kw'>&lt;-</span> <span class='fu'>regexpr</span>(<span class='st'>"_"</span>, <span class='no'>v</span>) <span class='kw'>&gt;</span> <span class='fl'>0</span>
  <span class='no'>problemValues</span> <span class='kw'>&lt;-</span> <span class='fu'>unique</span>(<span class='no'>v</span>[<span class='no'>underscorePlaces</span>])
  <span class='no'>problem</span> <span class='kw'>&lt;-</span> <span class='fu'>any</span>(<span class='no'>underscorePlaces</span>)
  <span class='no'>message</span> <span class='kw'>&lt;-</span> <span class='fu'>messageGenerator</span>(<span class='fu'>list</span>(<span class='kw'>problemValues</span> <span class='kw'>=</span> <span class='no'>problemValues</span>,
                                   <span class='kw'>problem</span> <span class='kw'>=</span> <span class='no'>problem</span>), <span class='kw'>nMax</span> <span class='kw'>=</span> <span class='no'>nMax</span>)
  <span class='fu'><a href='checkResult.html'>checkResult</a></span>(<span class='fu'>list</span>(<span class='kw'>problem</span> <span class='kw'>=</span> <span class='no'>problem</span>, <span class='kw'>message</span> <span class='kw'>=</span> <span class='no'>message</span>,
      <span class='kw'>problemValues</span> <span class='kw'>=</span> <span class='no'>problemValues</span>))
 }

 <span class='fu'>identifyUnderscores2</span>(<span class='no'>noUSVar</span>) <span class='co'>#no problem</span></div><div class='output co'>#&gt; No problems found.</div><div class='input'> <span class='fu'>identifyUnderscores2</span>(<span class='no'>USVar</span>) <span class='co'>#problems</span></div><div class='output co'>#&gt; Note that a check function found the following problematic values: _, _a, b_, n_b.</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Anne Helby Petersen, Claus Thorn Ekstrøm.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

